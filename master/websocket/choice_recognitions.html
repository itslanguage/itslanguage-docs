<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Choice Recognitions - ITSLanguage API</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Choice Recognitions";
    var mkdocs_page_input_path = "websocket/choice_recognitions.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> ITSLanguage API</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <span class="caption-text">Home</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../index.html">ITSLanguage Speech API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">REST API basics</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../api/authentication.html">Authentication</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/cors.html">Cross Origin Resource Sharing</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/data_representation.html">Data representation</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/jsonp.html">JSON-P Callbacks</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/pagination.html">Pagination</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/parameters.html">Parameters</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/request_response_format.html">Request and response format</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Security</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../api/roles.html">Roles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../api/permissions.html">Permissions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../api/ssl.html">SSL</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../api/errors.html">Error handling</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/filters.html">Filters</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/urls.html">URLs</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">REST API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../api/oauth2.html">OAuth2</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/organisations.html">Organisations</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/students.html">Students</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Challenges</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../api/speech_challenges.html">Speech</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../api/pronunciation_challenges.html">Pronunciation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../api/choice_challenges.html">Choice</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../api/progress.html">Progress</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/recordings.html">Speech Recordings</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/feedback.html">Speech Feedback</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/analyses.html">Speech Analysis</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/recognitions.html">Speech Recognition</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/categories.html">Category</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/tenants.html">Tenants</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/groups.html">Groups</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/profiles.html">Profiles</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/assignments.html">Assignments</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/annotations.html">Annotations</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Users</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../api/users.html">Users</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../api/basicauths.html">Basic authentication</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../api/emailauth.html">Email authentication</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Websocket API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="wamp.html">WAMP</a>
                </li>
                <li class="">
                    
    <a class="" href="feedback.html">Speech Feedback</a>
                </li>
                <li class="">
                    
    <a class="" href="speech_recording.html">Speech Recording</a>
                </li>
                <li class="">
                    
    <a class="" href="pronunciation_analyses.html">Pronunciation Analyses</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="choice_recognitions.html">Choice Recognitions</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#choice-recognitions">Choice Recognitions</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#initialising-a-choice-recognition">Initialising a choice recognition</a></li>
        
            <li><a class="toctree-l4" href="#initialise-choice-challenge">Initialise choice challenge</a></li>
        
            <li><a class="toctree-l4" href="#perform-the-recognition">Perform the recognition</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="audio.html">Audio</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">ITSLanguage API</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Websocket API &raquo;</li>
        
      
    
    <li>Choice Recognitions</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/itslanguage/itslanguage-docs/edit/master/docs/websocket/choice_recognitions.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="choice-recognitions"><a class="toclink" href="#choice-recognitions">Choice Recognitions</a></h1>
<p>Performing a choice recognition is broken up into various calls.</p>
<p>To perform a choice recognition a number of steps have to be made:</p>
<ol>
<li><a href="#initialising-a-choice-recognition">Initialising a choice recognition</a></li>
<li><a href="#initialise-choice-challenge">Initialise choice challenge</a></li>
<li><a href="wamp.html#register-audio-procedure">Register audio procedure</a></li>
<li><a href="#perform-the-recognition">Perform the recognition</a></li>
</ol>
<h2 id="initialising-a-choice-recognition"><a class="toclink" href="#initialising-a-choice-recognition">Initialising a choice recognition</a></h2>
<p>This is the starting point for a choice recognition. A unique recognition id
is generated, which serves a leading role in the recognition. Each other call
requires the recognition id as a parameter.</p>
<p>If other RPCs are called without this RPC being called first, the error
<code>nl.itslanguage.session_not_initialised</code> will be returned.</p>
<h3 id="uri"><a class="toclink" href="#uri">URI</a></h3>
<pre><code>nl.itslanguage.choice.init_recognition
</code></pre>

<h3 id="response"><a class="toclink" href="#response">Response</a></h3>
<p>The unique recognition id is returned as a string. The id is used in other calls
to identify the current recognition.</p>
<h2 id="initialise-choice-challenge"><a class="toclink" href="#initialise-choice-challenge">Initialise choice challenge</a></h2>
<p>Before performing the recognition, a WFST needs to be prepared for the
challenge. When the RPC is called, the challenge is initialised asynchronously.
When the challenge is to be used, the server automatically waits for the
challenge initialisation to finish. If the initialisation results in an error,
the error is relayed to the client.</p>
<h3 id="uri_1"><a class="toclink" href="#uri_1">URI</a></h3>
<pre><code>nl.itslanguage.choice.init_challenge
</code></pre>

<h3 id="parameters"><a class="toclink" href="#parameters">Parameters</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>recognition_id</td>
<td><code>string</code></td>
<td><strong>Required</strong> The id of the recognition to prepare the challenge for.</td>
</tr>
<tr>
<td>organisation_id</td>
<td><code>string</code></td>
<td><strong>Required</strong> The id of the organisation in which to find the challenge.</td>
</tr>
<tr>
<td>challenge_id</td>
<td><code>string</code></td>
<td><strong>Required</strong> The id of the challenge to prepare.</td>
</tr>
</tbody>
</table>
<h2 id="perform-the-recognition"><a class="toclink" href="#perform-the-recognition">Perform the recognition</a></h2>
<p>The recognition can be performed when all preparations are done.</p>
<h3 id="uri_2"><a class="toclink" href="#uri_2">URI</a></h3>
<pre><code>nl.itslanguage.choice.recognise
</code></pre>

<h3 id="parameters_1"><a class="toclink" href="#parameters_1">Parameters</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>recognition_id</td>
<td><code>string</code></td>
<td><strong>Required</strong> The id of the recognition to perform.</td>
</tr>
<tr>
<td>rpc</td>
<td><code>string</code></td>
<td><strong>Required</strong> The URI of a <a href="wamp.html#register-audio-procedure">registered audio rpc</a>.</td>
</tr>
</tbody>
</table>
<h3 id="response_1"><a class="toclink" href="#response_1">Response</a></h3>
<p>A JSON object with the recognition results and metadata is returned.</p>
<p>Example:</p>
<pre><code class="json">{&quot;id&quot;: &quot;g93h844&quot;,
 &quot;audioUrl&quot;: &quot;https://api-dot-itslanguage.nl:80/organisations/1/challenges/choice/4/recognitions/g93h844/audio&quot;,
 &quot;recognised&quot;: &quot;Unicorns&quot;}
</code></pre>

<p>The RPC can return various errors:</p>
<ul>
<li><code>nl.itslanguage.recognition_failed</code> If the recognition of the audio failed.</li>
<li><code>nl.itslanguage.no_such_organisation</code> If the organisation doesn't exist.</li>
<li><code>nl.itslanguage.no_such_challenge</code> If the challenge doesn't exist.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="audio.html" class="btn btn-neutral float-right" title="Audio">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="pronunciation_analyses.html" class="btn btn-neutral" title="Pronunciation Analyses"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>2013-2019</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/itslanguage/itslanguage-docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="pronunciation_analyses.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="audio.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
